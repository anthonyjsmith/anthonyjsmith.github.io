<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Enkaptic: Anthony Smith&#39;s software site</title>
    <description>Anthony Smith&#39;s software site</description>    
    <link>http://www.enkaptic.co.uk</link>
    <atom:link href="http://www.enkaptic.co.uk/feed/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>This is a draft</title>
      <description>&lt;p&gt;This is a draft post. I set draft: true to disable Disqus comments.&lt;/p&gt;

&lt;p&gt;Run jekyll serve -D [-w] to see drafts.&lt;/p&gt;

&lt;p&gt;page.path: _posts/this-is-a-draft.md&lt;/p&gt;
</description>
      <pubDate>Thu, 06 Feb 2014 09:42:11 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2014/02/06/this-is-a-draft/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2014/02/06/this-is-a-draft/</guid>
    </item>
    
    <item>
      <title>This blog has moved: NEW FEED LOCATION</title>
      <description>&lt;p&gt;I&amp;#39;ve moved this blog over to &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;, and over to my new(ish) domain, &lt;a href=&quot;http://www.enkaptic.co.uk/&quot;&gt;www.enkaptic.co.uk&lt;/a&gt;. Old links should keep redirecting... but not for very long!&lt;/p&gt;

&lt;p&gt;In particular, the RSS feed location is now &lt;a href=&quot;http://www.enkaptic.co.uk/feed/&quot;&gt;http://www.enkaptic.co.uk/feed/&lt;/a&gt;, so you should update your settings in your feed reader. (What? No feed reader? Seriously, &lt;a href=&quot;http://www.problogger.net/what-is-rss/&quot;&gt;you should try one&lt;/a&gt;! I use &lt;a href=&quot;http://feedly.com/&quot;&gt;feedly&lt;/a&gt;.)&lt;/p&gt;

&lt;p&gt;Or if you want to subscribe by email, &lt;a href=&quot;http://www.feedblitz.com/f/f.fbz?track=http%3A%2F%2Fwww.enkaptic.co.uk%2Ffeed%2F&quot;&gt;you can do that here (with FeedBlitz)&lt;/a&gt;.&lt;/p&gt;
</description>
      <pubDate>Thu, 06 Feb 2014 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2014/02/06/this-blog-has-moved-new-feed-location/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2014/02/06/this-blog-has-moved-new-feed-location/</guid>
    </item>
    
    <item>
      <title>WordPress to Jekyll</title>
      <description>&lt;p&gt;Change of plan: I&#39;m moving this site not from WordPress to Rails, but from WordPress to &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It was kind of fun developing a blog from scratch in Rails, but it&#39;s taking too long to get it finished, and I&#39;d rather use the time for other things. Jekyll is a static blogging system built in Ruby. It&#39;s simple, powerful, and free to host via &lt;a href=&quot;http://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here are the very simple steps I&#39;ve taken to migrate:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://pages.github.com/&quot;&gt;Create a new repository on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Create a new Jekyll site&lt;/a&gt; and push it to the GitHub repository&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://import.jekyllrb.com/&quot;&gt;Import data from WordPress&lt;/a&gt; (using &lt;a href=&quot;https://github.com/miguelff/jekyll-import&quot;&gt;this fix for paragraph/line breaks&lt;/a&gt;, then &lt;code&gt;cd jekyll-import&lt;/code&gt; / &lt;code&gt;rake build&lt;/code&gt; / &lt;code&gt;gem install pkg/jekyll-import-0.1.0.gem&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Fetch the uploads (images), change the URLs for the images, move the pages to page-name/index.html, set up permalinks and pages&lt;/li&gt;
&lt;li&gt;Add LaTeX (&lt;a href=&quot;http://docs.mathjax.org/en/latest/start.html#mathjax-cdn&quot;&gt;a couple of lines of javascript&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snaptortoise/jekyll-rss-feeds/blob/master/feed.xml&quot;&gt;Add a feed&lt;/a&gt; (call it feed/index.html, which is a bit messy but seems to work)&lt;/li&gt;
&lt;li&gt;Add &lt;a href=&quot;http://getbootstrap.com/getting-started/&quot;&gt;Bootstrap&lt;/a&gt; to make the page look reasonable (use Bootstrap CDN, dead easy)&lt;/li&gt;
&lt;li&gt;Pagination&lt;/li&gt;
&lt;li&gt;Post excerpts (based on &lt;a href=&quot;http://www.jacquesf.com/2011/03/creating-excerpts-in-jekyll-with-wordpress-style-more-html-comments/&quot;&gt;this&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Use &lt;a href=&quot;https://disqus.com/&quot;&gt;Disqus&lt;/a&gt; for comments&lt;/li&gt;
&lt;li&gt;And a few other odds and ends&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The site isn&#39;t quite live, but &lt;a href=&quot;https://github.com/enkaptic/enkaptic.github.io&quot;&gt;you can look at the repository on GitHub&lt;/a&gt;.&lt;/p&gt;</description>
      <pubDate>Wed, 05 Feb 2014 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2014/02/05/wordpress-to-jekyll/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2014/02/05/wordpress-to-jekyll/</guid>
    </item>
    
    <item>
      <title>WordPress to Rails (5) static pages</title>
      <description>&lt;p&gt;WordPress lumps posts and static pages together in one database table, but they need to be handled quite differently.&lt;/p&gt;
&lt;p&gt;At least for the time being, I&#39;m leaving them in the same table.&lt;/p&gt;
&lt;p&gt;First, in the &lt;code&gt;Post&lt;/code&gt; model, a different permalink is needed for static pages and for posts:&lt;/p&gt;
&lt;pre&gt;  def permalink
    if post_type == &#39;page&#39;
      post_name
    else
      post_date.strftime(&quot;%Y/%m/%d&quot;) + (post_name.empty? ? &#39;&#39; : &quot;/#{post_name}&quot;)
    end
  end&lt;/pre&gt;
&lt;p&gt;Then, also in the &lt;code&gt;Post&lt;/code&gt; model, I have several scopes:&lt;/p&gt;
&lt;pre&gt;  scope :published_posts, where(:post_status =&amp;gt; &#39;publish&#39;, :post_type =&amp;gt; &#39;post&#39;).order(&#39;post_date DESC&#39;)
  scope :published_pages, where(:post_status =&amp;gt; &#39;publish&#39;, :post_type =&amp;gt; &#39;page&#39;)
  scope :pages, where(:post_type =&amp;gt; &#39;page&#39;)
  scope :not_pages, where(&#39;post_type != page&#39;)&lt;/pre&gt;
&lt;p&gt;Then two different methods to find posts, depending on whether the user is logged in or not (see below):&lt;/p&gt;
&lt;pre&gt;  def self.find_by_permalink(permalink)
    if permalink !~ /\//
      pages.find(:first, :conditions =&amp;gt; [&quot;post_name = ?&quot;, permalink])
    else      
      year, month, day, name = permalink.split(&#39;/&#39;)
      name ||= &#39;&#39;
      not_pages.find(:first, :conditions =&amp;gt; [&quot;YEAR(post_date) = ? AND MONTH(post_date) = ? AND DAYOFMONTH(post_date) = ? AND post_name = ?&quot;, year.to_i, month.to_i, day.to_i, name])
    end
  end

  def self.find_published_by_permalink(permalink)
    if permalink !~ /\//
      published_pages.find(:first, :conditions =&amp;gt; [&quot;post_name = ?&quot;, permalink])
    else
      year, month, day, name = permalink.split(&#39;/&#39;)
      name ||= &#39;&#39;
      published_posts.find(:first, :conditions =&amp;gt; [&quot;YEAR(post_date) = ? AND MONTH(post_date) = ? AND DAYOFMONTH(post_date) = ? AND post_name = ?&quot;, year.to_i, month.to_i, day.to_i, name])
    end
  end&lt;/pre&gt;
&lt;p&gt;Then, in &lt;code&gt;PostController&lt;/code&gt;, the &lt;code&gt;show&lt;/code&gt; method becomes a bit more advanced (or messy):&lt;/p&gt;
&lt;pre&gt;  def show
    # Show all posts if logged in, otherwise restrict to published posts
    if User.find_by_ID(session[:user_id])
      @post = Post.find_by_permalink(params[:id]) || not_found
    else
      @post = Post.find_published_by_permalink(params[:id])
      if not @post
        # Check if post _would_ be visible if logged in; ask to log in if so
        if Post.find_by_permalink(params[:id])
          session[:return_to] = request.url
          redirect_to login_url, :notice =&amp;gt; &quot;Please log in&quot;
          return
        else
          not_found
        end
      end
    end
    ...
  end&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;not_found&lt;/code&gt; method is in &lt;code&gt;ApplicationController&lt;/code&gt; (see &lt;a href=&quot;http://stackoverflow.com/questions/2385799/how-to-redirect-to-a-404-in-rails/7099193&quot;&gt;here&lt;/a&gt;):&lt;/p&gt;
&lt;pre&gt;  def not_found
    raise ActionController::RoutingError.new(&#39;Not Found&#39;)
  end&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;routes.rb&lt;/code&gt; needs to be changed, to route (say) &lt;code&gt;.../about&lt;/code&gt; to the appropriate page, with the following line going &lt;em&gt;after&lt;/em&gt; all the other routing information (but before the &lt;code&gt;root&lt;/code&gt; statement):&lt;/p&gt;
&lt;pre&gt;  resources :posts, :only =&gt; [:show, :update, :destroy, :edit], :path =&gt; &#39;&#39;, :id =&gt; /\d{4}\/\d{2}\/\d{2}(\/[0-9a-z\-_]+)?|[0-9a-z\-_]+/&lt;/pre&gt;
&lt;p&gt;And there are some changes to the post view, to hide details that are not relevant to static pages (such as date and comments).&lt;/p&gt;
</description>
      <pubDate>Mon, 21 Oct 2013 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2013/10/21/wordpress-to-rails-5-static-pages/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2013/10/21/wordpress-to-rails-5-static-pages/</guid>
    </item>
    
    <item>
      <title>WordPress to Rails (4) uploads</title>
      <description>&lt;p&gt;WordPress allows you to upload files (such as images) and include them in posts. These end up in a location such as &lt;code&gt;.../wp-content/uploads/2012/06/githuboctocat.jpeg&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I&#39;m trying to keep things simple (for now), so I want all the uploaded files in one folder, with no fancy way of managing the files, and with only one version of each image (no thumbnails). So the above file would move to  &lt;code&gt;.../uploads/githuboctocat.jpeg&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I didn&#39;t want this folder to be part of the application code, so (following &lt;a href=&quot;http://stackoverflow.com/questions/1287342/is-it-safe-to-use-capistrano&quot;&gt;this&lt;/a&gt;) I added the following to &lt;code&gt;deploy.rb&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;namespace :deploy do
  # ...
  after &quot;deploy:setup&quot;, &quot;deploy:uploads:setup&quot;
  after &quot;deploy:symlink&quot;, &quot;deploy:uploads:symlink&quot;

  namespace :uploads do
    desc &quot;Create the uploads dir in shared path.&quot;
    task :setup do
      run &quot;cd #{shared_path}; mkdir uploads&quot;
    end

    desc &quot;Link uploads from shared to current.&quot;
    task :symlink do
      run &quot;cd #{current_path}/public; rm -rf uploads; ln -s #{shared_path}/uploads .&quot;
    end
  end
end&lt;/pre&gt;
&lt;p&gt;Next, with the uploaded files in that new folder, the database needed to be migrated to change the URLs for the uploaded files. The following migration seems to work (and can be rolled back, as long as the uploaded files shares the same year and month as the post that refers to it):&lt;/p&gt;
&lt;pre&gt;class ChangeWordpressUploadsUrls &amp;lt; ActiveRecord::Migration
  def up
    Post.all.each do |p|
      p.post_content = p.post_content.gsub(/http:\/\/www\.anthonysmith\.me\.uk\/research\/wp-content\/uploads\/\d{4}\/\d{2}\/([0-9a-zA-Z\-_.]+)/, &#39;/uploads/&#39;)
      p.save
    end
  end

  def down
    Post.all.each do |p|
      # NB: assumes upload has same year and month as post
      year, month, day, name = p.permalink.split(&#39;/&#39;)
      p.post_content = p.post_content.gsub(/\/uploads\/([0-9a-zA-Z\-_.]+)/, &quot;http://www.anthonysmith.me.uk/research/wp-content/uploads/#{year}/#{month}/&quot; + &#39;&#39;)
      p.save
    end
  end
end&lt;/pre&gt;
</description>
      <pubDate>Mon, 21 Oct 2013 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2013/10/21/wordpress-to-rails-4-uploads/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2013/10/21/wordpress-to-rails-4-uploads/</guid>
    </item>
    
    <item>
      <title>WordPress to Rails (3) Bootstrap</title>
      <description>&lt;p&gt;Rails is more about making web &lt;em&gt;applications&lt;/em&gt; that actually do things than it is about making web &lt;em&gt;sites&lt;/em&gt; that just look nice.&lt;/p&gt;
&lt;p&gt;But sooner or later, some attention needs to be given to one&#39;s appearance.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href=&quot;http://getbootstrap.com/&quot;&gt;Bootstrap&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;At its simplest, this provides a CSS file to stick in the Rails project, which makes it easy to turn a site that looks boring into a site that still looks just as boring, but with the crucial difference that it now looks like a boring site from 2013, rather than a boring site from 1993. And that&#39;s exactly what I&#39;ve done.&lt;/p&gt;
&lt;p&gt;To be more specific, I copied the &lt;code&gt;bootstrap.min.css&lt;/code&gt; file into the stylesheets folder, commented out most of the default Rails CSS file, and used the &lt;a href=&quot;http://getbootstrap.com/examples/starter-template/&quot;&gt;Bootstrap Starter Template&lt;/a&gt; to get me going.&lt;/p&gt;
&lt;p&gt;And &lt;a href=&quot;http://enkaptic.co.uk/&quot;&gt;here&#39;s what it looks like&lt;/a&gt;, by the way.&lt;/p&gt;
</description>
      <pubDate>Mon, 09 Sep 2013 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2013/09/09/wordpress-to-rails-3-bootstrap/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2013/09/09/wordpress-to-rails-3-bootstrap/</guid>
    </item>
    
    <item>
      <title>WordPress to Rails (2) permalinks</title>
      <description>&lt;p&gt;Various changes since &lt;a title=&quot;WordPress to Rails (1) schema and scaffold&quot; href=&quot;http://www.enkaptic.co.uk/2013/09/03/wordpress-to-rails-1-schema-and-scaffold/&quot;&gt;last time&lt;/a&gt;, such as adding user login authentication, with the following in the User model, which seems to mimic the WordPress authentication (at least for my password):&lt;/p&gt;
&lt;pre&gt;def check_password(plaintext_password)
  require &#39;phpass&#39;
  return Phpass.new(8).check(plaintext_password, self.user_pass)
end&lt;/pre&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;http://blog.amhill.net/2012/03/13/authenticating-against-wordpress-in-rails-3/&quot;&gt;Aaron Hill&lt;/a&gt; for a helpful post on that topic.&lt;/p&gt;
&lt;p&gt;Biggest change has been the introduction of permalinks, and making it possible to view each blog post on a separate page. Within the Post model, I added the following:&lt;/p&gt;
&lt;pre&gt;def self.find_by_permalink(permalink)
  year, month, day, name = permalink.split(&#39;/&#39;)
  name ||= &#39;&#39;
  find(:first, :conditions =&amp;gt; [&quot;YEAR(post_date) = ? AND MONTH(post_date) = ? AND DAYOFMONTH(post_date) = ? AND post_name = ?&quot;, year.to_i, month.to_i, day.to_i, name])
end

def to_param
  permalink
end

def permalink
  post_date.strftime(&quot;%Y/%m/%d&quot;) + (post_name.empty? ? &#39;&#39; : &quot;/#{post_name}&quot;)
end&lt;/pre&gt;
&lt;p&gt;Thanks to the author of &lt;a href=&quot;http://www.dzone.com/snippets/use-contents-wordpress&quot;&gt;this snippet&lt;/a&gt; for some of that.&lt;/p&gt;
&lt;p&gt;Then in &lt;code&gt;routes.rb&lt;/code&gt;, I have:&lt;/p&gt;
&lt;pre&gt;resources :posts, :only =&amp;gt; [:index, :new, :create]
resources :posts, :only =&amp;gt; [:show, :update, :destroy, :edit], :path =&amp;gt; &#39;&#39;, :id =&amp;gt; /\d{4}\/\d{2}\/\d{2}(\/[0-9a-z\-_]+)?/&lt;/pre&gt;
&lt;p&gt;This preserves &lt;code&gt;mydomain.com/posts&lt;/code&gt; and &lt;code&gt;mydomain.com/posts/new&lt;/code&gt; URLs for listing and creating posts, but allows &lt;code&gt;mydomain.com/2013/09/04/my-post&lt;/code&gt; as a permalink for the post itself (allowing lower-case letters, numbers, hyphens and underscores).&lt;/p&gt;
&lt;p&gt;(I&#39;ll leave the smileys in, just to show how clever WordPress is...)&lt;/p&gt;
&lt;p&gt;Finally, within &lt;code&gt;PostsController&lt;/code&gt;, replace all the &lt;code&gt;Post.find&lt;/code&gt; occurrences with &lt;code&gt;Post.find_by_permalink&lt;/code&gt;, and I think that&#39;s all!&lt;/p&gt;
</description>
      <pubDate>Wed, 04 Sep 2013 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2013/09/04/wordpress-to-rails-2-permalinks/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2013/09/04/wordpress-to-rails-2-permalinks/</guid>
    </item>
    
    <item>
      <title>WordPress to Rails (1) schema and scaffold</title>
      <description>&lt;p&gt;I&#39;m attempting to move this blog from &lt;a href=&quot;http://wordpress.org/&quot;&gt;WordPress&lt;/a&gt; to &lt;a href=&quot;http://rubyonrails.org/&quot;&gt;Rails&lt;/a&gt;. Why? Because I&#39;m learning Rails!&lt;/p&gt;
&lt;p&gt;Step one in the transition is to build a Rails app that can make use of an existing WordPress database. The following seems to work...&lt;/p&gt;
&lt;p&gt;First, create a Rails app (using MySQL for the database), then import the WordPress database into the Rails app database:&lt;/p&gt;
&lt;pre&gt;cd /path/to/folder/with/wordpress/mysql/file/in/
mysql -u root
use my_app_development;
source wp_database_exported_from_mysql.sql
quit&lt;/pre&gt;
&lt;p&gt;Next, update the schema in the app&lt;/p&gt;
&lt;pre&gt;rake db:schema:dump&lt;/pre&gt;
&lt;p&gt;Next (with a bit of help from &lt;a href=&quot;https://github.com/frenesim/schema_to_scaffold&quot;&gt;schema_to_scaffold&lt;/a&gt;), generate the scaffold to link the app to the database. These commands, followed by lines to be added to the corresponding model files, seem to do the trick, for the &lt;a href=&quot;http://codex.wordpress.org/Database_Description&quot;&gt;default WordPress database structure&lt;/a&gt;:&lt;br /&gt;
&lt;!--more--&gt;
&lt;pre&gt;rails generate scaffold CommentMeta meta_id:integer comment_id:integer meta_key:string meta_value:text --skip-migration
  self.primary_key = &#39;meta_id&#39;
  set_table_name &#39;wp_commentmeta&#39;

rails generate scaffold Comment comment_ID:integer comment_post_ID:integer comment_author:text comment_author_email:string comment_author_url:string comment_author_IP:string comment_date:datetime comment_date_gmt:datetime comment_content:text comment_karma:integer comment_approved:string comment_agent:string comment_type:string comment_parent:integer user_id:integer comment_subscribe:string --skip-migration
  self.primary_key = &#39;comment_ID&#39;
  set_table_name &#39;wp_comments&#39;

rails generate scaffold Link link_id:integer link_url:string link_name:string link_image:string link_target:string link_category:integer link_description:string link_visible:string link_owner:integer link_rating:integer link_updated:datetime link_rel:string link_notes:text link_rss:string --skip-migration
  self.primary_key = &#39;link_id&#39;
  set_table_name &#39;wp_links&#39;

rails generate scaffold Option option_id:integer option_name:string option_value:text autoload:string --skip-migration
  self.primary_key = &#39;option_id&#39;
  set_table_name &#39;wp_options&#39;

rails generate scaffold PostMeta meta_id:integer post_id:integer meta_key:string meta_value:text --skip-migration
  self.primary_key = &#39;meta_id&#39;
  set_table_name &#39;wp_postmeta&#39;

rails generate scaffold Post ID:integer post_author:integer post_date:datetime post_date_gmt:datetime post_content:text post_title:text post_category:integer post_excerpt:text post_status:string comment_status:string ping_status:string post_password:string post_name:string to_ping:text pinged:text post_modified:datetime post_modified_gmt:datetime post_content_filtered:text post_parent:integer guid:string menu_order:integer post_type:string post_mime_type:string comment_count:integer --skip-migration
  self.primary_key = &#39;ID&#39;
  set_table_name &#39;wp_posts&#39;

rails generate scaffold TermRelationship object_id:integer term_taxonomy_id:integer term_order:integer --skip-migration
  set_table_name &#39;wp_term_relationships&#39;

rails generate scaffold TermTaxonomy term_taxonomy_id:integer term_id:integer taxonomy:string description:text parent:integer count:integer --skip-migration
  self.primary_key = &#39;term_taxonomy_id&#39;
  set_table_name &#39;wp_term_taxonomy&#39;

rails generate scaffold Term term_id:integer name:string slug:string term_group:integer --skip-migration
  self.primary_key = &#39;term_id&#39;
  set_table_name &#39;wp_terms&#39;

rails generate scaffold UserMeta umeta_id:integer user_id:integer meta_key:string meta_value:text --skip-migration
  self.primary_key = &#39;umeta_id&#39;
  set_table_name &#39;wp_usermeta&#39;

rails generate scaffold User ID:integer user_login:string user_pass:string user_nicename:string user_email:string user_url:string user_registered:datetime user_activation_key:string user_status:integer display_name:string --skip-migration
  self.primary_key = &#39;ID&#39;
  set_table_name &#39;wp_users&#39;&lt;/pre&gt;
&lt;p&gt;Then, for some instant gratification, make a controller for the blog:&lt;/p&gt;
&lt;pre&gt;rails generate controller blog index&lt;/pre&gt;
&lt;p&gt;Set this as the root page, by adding to config/routes.rb:&lt;/p&gt;
&lt;pre&gt;root :to =&amp;gt; &#39;blog#index&#39;, :as =&amp;gt; &#39;blog&#39;&lt;/pre&gt;
&lt;p&gt;In the Blog model, put:&lt;/p&gt;
&lt;pre&gt;scope :published_posts, where(:post_status =&amp;gt; &#39;publish&#39;, :post_type =&amp;gt; &#39;post&#39;).order(&#39;post_date DESC&#39;)&lt;/pre&gt;
&lt;p&gt;In BlogController, put:&lt;/p&gt;
&lt;pre&gt;def index
  @posts = Post.published_posts
end&lt;/pre&gt;
&lt;p&gt;And in the view for the blog index, put:&lt;/p&gt;
&lt;pre&gt;&amp;lt;% @posts.each do |post| %&amp;gt;
  &amp;lt;div class=&quot;entry&quot;&amp;gt;
    &amp;lt;h2&amp;gt;&amp;lt;%= post.post_title %&amp;gt;&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;%= post.post_date.strftime(&#39;%d %h %Y&#39;) %&amp;gt;&amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;%= sanitize(post.post_content) %&amp;gt;&amp;lt;/p&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;% end %&amp;gt;&lt;/pre&gt;
&lt;p&gt;Lots more work to do, but it&#39;s a start!&lt;/p&gt;
</description>
      <pubDate>Tue, 03 Sep 2013 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2013/09/03/wordpress-to-rails-1-schema-and-scaffold/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2013/09/03/wordpress-to-rails-1-schema-and-scaffold/</guid>
    </item>
    
    <item>
      <title>pIDLy update</title>
      <description>&lt;p&gt;It&#39;s been a while since I posted anything here. And today won&#39;t mark a significant change in that pattern, I&#39;m afraid. But my python-IDL interface, &lt;a href=&quot;http://www.enkaptic.co.uk/tag/pidly/&quot;&gt;pIDLy&lt;/a&gt;, has been mentioned elsewhere a couple of times, so I thought I might as well put the links up here.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, IDL guru &lt;a href=&quot;http://michaelgalloy.com/2012/07/30/idl-use-from-python.html&quot;&gt;Michael Galloy found pIDLy&lt;/a&gt;, liked it, and has been updating his &lt;em&gt;Modern IDL&lt;/em&gt; book to mention it!&lt;/li&gt;
&lt;li&gt;Then Gökhan Sever has been trying out pIDLy with not just IDL but also GDL and FL, and wrote about his experiences &lt;a href=&quot;http://pycloud.blogspot.co.uk/2012/11/calling-idl-gdl-and-fl-from-python.html&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&#39;m not doing much python or IDL these days, but &lt;a title=&quot;pIDLy on GitHub&quot; href=&quot;http://www.enkaptic.co.uk/2012/06/07/pidly-on-github/&quot;&gt;pIDLy is on GitHub&lt;/a&gt; if anyone wants to develop it further...&lt;/p&gt;
</description>
      <pubDate>Thu, 08 Nov 2012 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2012/11/08/pidly-update/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/11/08/pidly-update/</guid>
    </item>
    
    <item>
      <title>Authors list script</title>
      <description>&lt;p&gt;One of my most important roles within &lt;a href=&quot;http://hermes.sussex.ac.uk/&quot;&gt;HerMES&lt;/a&gt; has been to generate the LaTeX for the lists of authors and affiliations in the astronomy journal papers (previous posts &lt;a title=&quot;MNRAS line wrapping in authors lists&quot; href=&quot;http://www.enkaptic.co.uk/2010/05/07/mnras-line-wrapping-in-authors-lists/&quot;&gt;here&lt;/a&gt; and &lt;a title=&quot;Generating LaTeX authors lists for MNRAS and A&amp;amp;A&quot; href=&quot;http://www.enkaptic.co.uk/2010/06/03/generating-latex-authors-lists-for-mnras-and-aa/&quot;&gt;here&lt;/a&gt;). HerMES is a big consortium, so some of the papers have something like 100 authors (with each author contributing, say, 10 or 20 words, and the first author having the job of putting them in the right order). When the list of authors is determined by complicated rules of the consortium, and when each author has to be associated with one or more institutes, with the correct superscript numbers after their names, and everything in the correct order, then having a script to do that for you can save a lot of time.&lt;/p&gt;
&lt;p&gt;As part of my new &lt;a title=&quot;pIDLy on GitHub&quot; href=&quot;http://www.enkaptic.co.uk/2012/06/07/pidly-on-github/&quot;&gt;GitHub&lt;/a&gt; spree, I&#39;ve made my HerMES authorship script more presentable, and it&#39;s now freely available for all the world in the &lt;a href=&quot;https://github.com/anthonyjsmith/authors_list&quot;&gt;authors_list&lt;/a&gt; repository. Just download the files, use the &quot;authors_data&quot; template to fill in the names and institutes of the members of your consortium, then follow the instructions in the usage message for the &quot;authors_list&quot; script. It&#39;s written in Python, but runs as a command-line script. So far, it can produce output for MNRAS, A&amp;amp;A and ApJ, but it wouldn&#39;t take a Python wiz to adapt it for other journals.&lt;/p&gt;
&lt;p&gt;Feedback and improvements to the script are welcome!&lt;/p&gt;
</description>
      <pubDate>Mon, 11 Jun 2012 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2012/06/11/authors-list-script/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/06/11/authors-list-script/</guid>
    </item>
    
    <item>
      <title>pIDLy on GitHub</title>
      <description>&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-362&quot; title=&quot;GitHub Octocat&quot; src=&quot;http://www.enkaptic.co.uk/assets/githuboctocat.jpeg&quot; alt=&quot;&quot; width=&quot;600&quot; height=&quot;232&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I thought I&#39;d better figure out what Git and GitHub are. &lt;a href=&quot;http://git-scm.com/&quot;&gt;Git&lt;/a&gt; is a revision control system, enabling you to keep track of changes to computer software (for example). &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; is a web-based hosting service for Git repositories. (The GitHub logo is the &quot;octocat&quot;, by the way.)&lt;/p&gt;
&lt;p&gt;It&#39;s all very simple to use too. My python/IDL interface, &lt;a href=&quot;http://www.enkaptic.co.uk/2008/01/31/pidly-idl-within-python/&quot;&gt;pIDLy&lt;/a&gt;, is now &lt;a href=&quot;https://github.com/anthonyjsmith/pIDLy&quot;&gt;on GitHub&lt;/a&gt;, and it wasn&#39;t hard to set things up.&lt;/p&gt;
&lt;p&gt;One of the points of GitHub is to make sharing and collaborating easier. So I&#39;m kind of hoping that someone out there will want to do some work improving pIDLy, seeing as I&#39;m spending most of my time on Java these days. I do get occasional emails from pIDLy users, so it is being used. But it&#39;s still quite easy to break it... The latest version on GitHub should be very slightly better than &lt;a href=&quot;http://pypi.python.org/pypi/pIDLy/&quot;&gt;version 0.2.4&lt;/a&gt;, which I made four years ago and haven&#39;t touched since.&lt;/p&gt;
</description>
      <pubDate>Thu, 07 Jun 2012 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2012/06/07/pidly-on-github/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/06/07/pidly-on-github/</guid>
    </item>
    
    <item>
      <title>Aspect-oriented programming</title>
      <description>&lt;p&gt;That&#39;s right, not &lt;em&gt;object&lt;/em&gt;-oriented, but &lt;em&gt;aspect&lt;/em&gt;-oriented. What&#39;s that all about then?&lt;/p&gt;
&lt;p&gt;Computers store data, and computer programs do stuff to the data. You can write computer programs in that way: basically as a list of things to do to some data. But those programs end up very messy (as I know from experience!). So we need a better way of representing what is going on.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href=&quot;http://en.wikipedia.org/wiki/Object-oriented_programming&quot;&gt;object-oriented programming&lt;/a&gt; (OOP). We represent what is going on under the surface in terms of &lt;strong&gt;objects&lt;/strong&gt;. An object is the basic unit of a program. It hides (encapsulates) some data, and if you ask it nicely, it will do something and tell you what you need to know. A computer program is now a collection of objects that interact with each other to perform some complex task. This is much better, as the software developer can focus on crafting elegant objects (or, more accurately, &lt;em&gt;kinds&lt;/em&gt; of objects, or &lt;strong&gt;classes&lt;/strong&gt;). If these are well designed, the program will be robust, and you can change little bits of it without worrying that the whole thing will break.&lt;/p&gt;
&lt;p&gt;But wait: what if we can&#39;t represent all that a program needs to do in terms of individual objects? What if there are some &lt;a href=&quot;http://en.wikipedia.org/wiki/Concern_(computer_science)&quot;&gt;concerns&lt;/a&gt; that are relevant for every element of the program? For example, a typical program might be littered with statements dealing with logging, security, or handling errors. These are concerns that cut across the basic functionality of a program.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href=&quot;http://en.wikipedia.org/wiki/Aspect-oriented_programming&quot;&gt;aspect-oriented programming&lt;/a&gt; (AOP). This provides a way of separating out those cross-cutting concerns into separate &lt;strong&gt;aspects&lt;/strong&gt;, which provide additional commands to be executed at particular points (or particular kinds of points) in the program execution.&lt;/p&gt;
&lt;p&gt;I&#39;m going to give it a try with the Java development I&#39;m working on. I&#39;ll let you know how it goes. It should be useful for testing, allowing me to keep track of how many times a particular method is executed, what the values of the parameters are, how much time is spent on different steps, and what is making it go wrong, for example.&lt;/p&gt;
&lt;p&gt;Fortunately, it&#39;s dead easy to get started. For Java, the most widely-used AOP extension is &lt;a href=&quot;http://www.eclipse.org/aspectj/&quot;&gt;AspectJ&lt;/a&gt;. If you have a Java project in &lt;a href=&quot;http://en.wikipedia.org/wiki/Eclipse_(software)&quot;&gt;Eclipse&lt;/a&gt;, simply install the &lt;a href=&quot;http://www.eclipse.org/ajdt/downloads/&quot;&gt;AspectJ Development Tools&lt;/a&gt; plugin, convert the project to an AspectJ project, and that&#39;s it. Here&#39;s &quot;Hello world&quot; using an aspect:&lt;/p&gt;
&lt;pre lang=&quot;java&quot;&gt;public class HelloWorld {
    private void sayHello() {
        System.out.println(&quot;Hello&quot;);
    }

    public static void main(String[] args) {
        new HelloWorld().sayHello();
    }
}

public aspect World {
    pointcut greeting():
        execution(* HelloWorld.sayHello(..));

    after() returning: greeting() {
        System.out.println(&quot;World!&quot;);
    }
}&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;sayHello&lt;/code&gt; method executes, and then the aspect interrupts the execution and prints &quot;World!&quot;.&lt;/p&gt;
&lt;p&gt;Part of the attraction of AOP to me is that it has resonances with the philosophy of &lt;a href=&quot;http://en.wikipedia.org/wiki/Herman_Dooyeweerd&quot;&gt;Herman Dooyeweerd&lt;/a&gt;, who worked on a model of reality called the &lt;a href=&quot;http://www.dooy.salford.ac.uk/asp.html&quot;&gt;Theory of Aspects&lt;/a&gt;, in which the whole of reality can be described in terms of (around) 15 (cross-cutting) &lt;a href=&quot;http://www.dooy.salford.ac.uk/aspects.html&quot;&gt;aspects&lt;/a&gt;. In fact, I first heard of AOP via &lt;a href=&quot;http://www.dooy.salford.ac.uk/using/aop.html&quot;&gt;Andrew Basden&#39;s page on the topic&lt;/a&gt;.&lt;/p&gt;
</description>
      <pubDate>Fri, 01 Jun 2012 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2012/06/01/aspect-oriented-programming/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/06/01/aspect-oriented-programming/</guid>
    </item>
    
    <item>
      <title>Update</title>
      <description>&lt;p&gt;Regular visitors to this, my boring technical blog, may be forgiven for thinking that nothing is going on. This is my fourth post here in two years, so that&#39;s an average of one post every eight months (think about it!). Now, I do want this blog to be boring in content (most people would think I&#39;m succeeding in that), but not necessarily boring in that I never post anything. So here&#39;s an attempt to bring things up to speed...&lt;/p&gt;
&lt;p&gt;What have I been doing for the past few years? Since October 2008 I&#39;ve been working on data processing for the &lt;a href=&quot;http://www.esa.int/herschel&quot;&gt;&lt;em&gt;Herschel&lt;/em&gt; Space Observatory&lt;/a&gt;. In terms of the data, I&#39;ve done a lot with &lt;a href=&quot;http://hermes.sussex.ac.uk/&quot;&gt;HerMES&lt;/a&gt;, but more recently the focus has been on the software, working on a big &lt;em&gt;Herschel&lt;/em&gt; software package, &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/&quot;&gt;HIPE&lt;/a&gt; (&lt;a href=&quot;http://herschel.esac.esa.int/Data_Processing.shtml&quot;&gt;about&lt;/a&gt;, &lt;a href=&quot;http://herschel.esac.esa.int/hcss/build.php&quot;&gt;download&lt;/a&gt;). As such—and much to my horror—I seem to be becoming a software developer. &lt;a href=&quot;http://en.wikipedia.org/wiki/Java_(programming_language)&quot;&gt;Java&lt;/a&gt;, to be more specific. Here are some things I&#39;ve been working on recently:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Point source extraction: &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/#hcss_urm:herschel.ia.toolbox.srcext.SourceExtractorSussextractorTask&quot;&gt;SUSSEXtractor&lt;/a&gt; and &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/#hcss_urm:herschel.ia.toolbox.srcext.SourceExtractorDaophotTask&quot;&gt;DAOPHOT&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Making a map from timelines, simultaneously convolving with a kernel: &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/#spire_urm:herschel.spire.ia.pipeline.util.ConvolutionMapperTask&quot;&gt;convolutionMapper&lt;/a&gt; (or &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/#hcss_drm:herschel.ia.toolbox.mapper.ConvolutionSimpleMapper&quot;&gt;here&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Correcting the pointing (astrometry) of an image, with respect to another image or source positions: &lt;a href=&quot;http://herschel.esac.esa.int/hcss-doc-10.0/#hcss_urm:herschel.ia.toolbox.astro.AstrometryFixTask&quot;&gt;astrometryFix&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Thu, 31 May 2012 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2012/05/31/update/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/05/31/update/</guid>
    </item>
    
    <item>
      <title>On Gaussian approximations</title>
      <description>&lt;p&gt;You have a function that you want to approximate as an N-dimensional (multivariate) Gaussian (normal) distribution. What do you do?&lt;/p&gt;
&lt;p&gt;If you are me, you spend a couple of weeks deriving stuff, and then finally figure out the easy way.&lt;/p&gt;
&lt;p&gt;But hopefully you are not me, so here is the easy way, to save you the bother.&lt;/p&gt;
&lt;p&gt;First, find the peak of your function, and put a hat on the value(s) or the parameter(s) at this point. Now your (N-dimensional) function can be approximated as&lt;/p&gt;
&lt;p&gt;$$!f(x) \simeq f(\hat{x})\exp \left[-\frac{1}{2} (x-\hat{x})^\mathrm{T} \Sigma^{-1} (x-\hat{x}) \right]$$&lt;/p&gt;
&lt;p&gt;where $$\Sigma$$ is the covariance matrix, and our task it to figure out what it is.&lt;/p&gt;
&lt;p&gt;But fear not, help is at hand. If we find the following &lt;a href=&quot;http://en.wikipedia.org/wiki/Hessian_matrix&quot;&gt;Hessian matrix&lt;/a&gt;, and if we assume that the covariance matrix is symmetric, we have&lt;/p&gt;
&lt;p&gt;$$!\begin{align} H_{ij} &amp;\equiv \frac{\partial^2}{\partial x_i \partial x_j} \left( - \ln f(x) \right) \\ &amp;\simeq \frac{\partial^2}{\partial x_i \partial x_j} \left( - \ln f(\hat{x}) + \frac{1}{2} (x-\hat{x})^\mathrm{T} \Sigma^{-1} (x-\hat{x}) \right) \\ &amp;= \frac{1}{2} (\Sigma^{-1}_{ij} + \Sigma^{-1}_{ji}) \\ &amp;= \Sigma^{-1}_{ij} \end{align}$$&lt;/p&gt;
&lt;p&gt;That&#39;s it. Easy. Now you can even &lt;a href=&quot;http://en.wikipedia.org/wiki/Multivariate_normal_distribution&quot;&gt;integrate the function&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$$!\int f(x) \, \mathrm{d}x = (2\pi)^{N/2} |\Sigma|^{1/2} f(\hat{x}) = (2\pi)^{N/2} |H|^{-1/2} f(\hat{x})$$&lt;/p&gt;
</description>
      <pubDate>Mon, 06 Feb 2012 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2012/02/06/on-gaussian-approximations/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2012/02/06/on-gaussian-approximations/</guid>
    </item>
    
    <item>
      <title>HerMES point source catalogues</title>
      <description>&lt;p&gt;Well, it&#39;s finally here: &lt;a href=&quot;http://arxiv.org/abs/1109.5186&quot;&gt;HerMES: point source catalogues from deep Herschel-SPIRE observations&lt;/a&gt;, by yours truly and lots of other people otherwise known as &quot;Al&quot;.&lt;/p&gt;
&lt;p&gt;Some of the catalogues are available &lt;a href=&quot;http://hedam.oamp.fr/HerMES/&quot;&gt;here&lt;/a&gt;, if you&#39;re interested.&lt;/p&gt;
&lt;p&gt;The biggest challenge was &lt;strong&gt;confusion&lt;/strong&gt; (about which there is a great deal of confusion). For example, in this &lt;a href=&quot;http://hermes.sussex.ac.uk/content/bringing-home-goods&quot;&gt;HerMES&lt;/a&gt; image, everything you can see is light from galaxies, and each galaxy produces a small round blob in the image. The number of galaxies is so high, that light from any one galaxy is &lt;strong&gt;confused&lt;/strong&gt; with light from numerous neighbouring galaxies.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://hermes.sussex.ac.uk/content/bringing-home-goods&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-320&quot; title=&quot;HerMES GOODS-North&quot; src=&quot;http://www.enkaptic.co.uk/assets/GOODSN.jpg&quot; alt=&quot;&quot; width=&quot;600&quot; height=&quot;450&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So when the computer looks at the image and spots a blob with brightness 30 mJy, what does that mean? Does it mean there is one galaxy there with brightness 30 mJy? Or perhaps there are 10 galaxies, with brightnesses of 15 mJy or lower?&lt;/p&gt;
&lt;p&gt;It&#39;s difficult to tell. But what you can do (and what we did in the paper) is to stick fake galaxies (blobs) into the image, and see what difference that makes. So if we have a fake galaxy with brightness 30 mJy, and we put it in at a random position, what effect will that have, on average? What is the probability that it will be detected? (This is approaching what we mean by the &lt;strong&gt;completeness&lt;/strong&gt; of the catalogue, although it is far from easy to know what is meant by those simple words &quot;it&quot; and &quot;detected&quot;!) What brightness will it be measured to have, on average? 20 mJy? 30 mJy? 40 mJy? 100 mJy?&lt;/p&gt;
&lt;p&gt;For very bright galaxies, it&#39;s relatively straightforward. But for fainter things, it can do your head in...&lt;/p&gt;
</description>
      <pubDate>Tue, 27 Sep 2011 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2011/09/27/hermes-point-source-catalogues/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2011/09/27/hermes-point-source-catalogues/</guid>
    </item>
    
    <item>
      <title>Generating LaTeX authors lists for MNRAS and A&amp;A</title>
      <description>&lt;p&gt;Okay, a bit boring, but as &lt;a href=&quot;http://www.enkaptic.co.uk/2010/05/07/mnras-line-wrapping-in-authors-lists/&quot;&gt;promised&lt;/a&gt;, here are some Python functions to generate LaTeX source for long authors lists for MNRAS and A&amp;amp;A.&lt;/p&gt;
&lt;p&gt;&lt;!--more--&gt;First, a small utility:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;def getSortedInstituteCodes(authorList, authorInstituteCodes):
    &quot;&quot;&quot;Return a list of institute codes, in the correct order for authorList.

    authorList = [&quot;J.~Bloggs&quot;, &quot;A.N.~Other&quot;]
    authorInstituteCodes = {&quot;J.~Bloggs&quot;:1, &quot;A.N.~Other&quot;:[1,&quot;Sussex&quot;]}
    &quot;&quot;&quot;
    instituteCodes = []
    for author in authorList:
        codes = authorInstituteCodes[author]
        if not hasattr(codes, &#39;__iter__&#39;):
            codes = [codes]
        for code in codes:
            if not code in instituteCodes:
                instituteCodes.append(code)
    return instituteCodes&lt;/pre&gt;
&lt;p&gt;then the function for MNRAS:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;def getAuthorsStringMNRAS(authorList, authorInstituteCodes, institutesTex,
                          authorEmails):
    &quot;&quot;&quot;Return a string containing LaTeX for MNRAS authors list.

    authorList = [&quot;J.~Bloggs&quot;, &quot;A.N.~Other&quot;]
    authorInstituteCodes = {&quot;J.~Bloggs&quot;:1, &quot;A.N.~Other&quot;:[1,&quot;Sussex&quot;]}
    institutesTex = {1:&quot;Somewhere, Earth&quot;, &quot;Sussex&quot;:&quot;University of Sussex&quot;}
    authorEmails = {&quot;J.~Bloggs&quot;: &quot;j.bloggs@no.where&quot;}
    &quot;&quot;&quot;
    instituteCodes = getSortedInstituteCodes(authorList, authorInstituteCodes)

    # Make a list of strings:
    # &quot;Author Name$^{1,2}$\thanks{E-mail: \texttt{j.bloggs@no.where}}&quot;
    authorInstituteList = []
    for author in authorList:
        try:
            codes = authorInstituteCodes[author]
            if not hasattr(codes, &#39;__iter__&#39;):
                codes = [codes]  # Only one institute code for this author
            authorInstituteList.append(
                author
                + &#39;,$^{&#39; + &#39;,&#39;.join([str(instituteCodes.index(code) + 1)
                                     for code in codes])
                + &#39;}$&#39;)
        except KeyError:
            authorInstituteList.append(author + &#39;,&#39;)
        try:
            email = authorEmails[author]
            authorInstituteList[-1] += &#39;\thanks{E-mail: \texttt{&#39;
            authorInstituteList[-1] += email + &#39;}}&#39;
        except KeyError:
            pass # No email address for this author
    # Sort out the punctuation (won&#39;t work if the penultimate or ultimate
    # author has no institute)
    authorInstituteList[-2] = authorInstituteList[-2].replace(&#39;,$&#39;, &#39;$&#39;)
    authorInstituteList[-2] += &#39; and&#39;
    authorInstituteList[-1] = authorInstituteList[-1].replace(&#39;,$&#39;, &#39;$&#39;)

    # Put it all together
    authorsString = &#39;\author[&#39; + authorList[0] + &#39; et al.]&#39;
    authorsString += &#39;\n{\parbox{\textwidth}{&#39;
    authorsString += &#39;\n&#39;.join(authorInstituteList)
    authorsString += &#39;}\vspace{0.4cm}\\\n&#39;
    authorsString += &#39;\parbox{\textwidth}{&#39;
    authorsString += &#39;\\\n&#39;.join([&#39;$^{&#39; + str(iInst + 1) + &#39;}$&#39;
                                    + institutesTex[instituteCodes[iInst]]
                                    for iInst in range(len(instituteCodes))])
    authorsString += &#39;}}\n&#39;

    return authorsString&lt;/pre&gt;
&lt;p&gt;and the function for A&amp;amp;A:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;def getAuthorsStringAA(authorList, authorInstituteCodes, institutesTex,
                       authorEmails):
    &quot;&quot;&quot;Return a string containing LaTeX for A&amp;A authors list.

    authorList = [&quot;J.~Bloggs&quot;, &quot;A.N.~Other&quot;]
    authorInstituteCodes = {&quot;J.~Bloggs&quot;:1, &quot;A.N.~Other&quot;:[1,&quot;Sussex&quot;]}
    institutesTex = {1:&quot;Somewhere, Earth&quot;, &quot;Sussex&quot;:&quot;University of Sussex&quot;}
    authorEmails = {&quot;J.~Bloggs&quot;: &quot;j.bloggs@no.where&quot;}
    &quot;&quot;&quot;
    instituteCodes = getSortedInstituteCodes(authorList, authorInstituteCodes)

    # Associate institute numbers with authors and emails with institutes
    authorInstituteList = []  # A list of &quot;Author Name\inst{1,2}&quot; strings
    instituteEmails = {}  # A dictionary of email addresses for each institute
    for author in authorList:
        try:
            codes = authorInstituteCodes[author]
            if not hasattr(codes, &#39;__iter__&#39;):
                codes = [codes]  # Only one institute code for this author
            authorInstituteList.append(
                author + &#39;\inst{&#39;
                + &#39;,&#39;.join([str(instituteCodes.index(code) + 1)
                            for code in codes])
                + &#39;}&#39;)
            try:
                email = authorEmails[author]
                try:
                    instituteEmails[codes[0]].append(email)
                except KeyError:  # First email address for this institute
                    instituteEmails[codes[0]] = [email]
            except KeyError:
                pass # No email address associated with author
        except KeyError:
            authorInstituteList.append(author)

    # Create a list of &quot;Institute Name, Address\
    #                   \email{j.bloggs@no.where}&quot; strings
    instituteEmailList = []
    for instituteCode in instituteCodes:
        try:
            emails = instituteEmails[instituteCode]
            instituteEmailList.append(
                institutesTex[instituteCode]
                + &#39;&#39;.join([&#39;\\\n\email{&#39; + email + &#39;}&#39; for email in emails]))
        except KeyError:
            instituteEmailList.append(institutesTex[instituteCode])

    # Put it all together
    authorsString = &#39;\author{&#39;
    authorsString += &#39;\n\and &#39;.join(authorInstituteList)
    authorsString += &#39;}\n&#39;
    authorsString += &#39;\institute{&#39;
    authorsString += &#39;\n\and &#39;.join(instituteEmailList)
    authorsString += &#39;}\n&#39;

    return authorsString&lt;/pre&gt;
&lt;p&gt;Anyone still reading?&lt;/p&gt;
</description>
      <pubDate>Thu, 03 Jun 2010 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2010/06/03/generating-latex-authors-lists-for-mnras-and-aa/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2010/06/03/generating-latex-authors-lists-for-mnras-and-aa/</guid>
    </item>
    
    <item>
      <title>MNRAS line wrapping in authors lists</title>
      <description>&lt;p&gt;In case anyone else using the &lt;a href=&quot;http://www.wiley.com/bw/static/mnras_latex.asp&quot;&gt;MNRAS LaTeX class&lt;/a&gt; has been tearing their hair out inserting line breaks manually into long author (and institution) lists, using &lt;code&gt;\newauthor&lt;/code&gt;, here&#39;s how I did it:&lt;/p&gt;
&lt;pre lang=&quot;latex&quot;&gt;\author[J.~Bloggs et al.]
{\parbox{\textwidth}{J.~Bloggs,$^{1}$\thanks{E-mail: \texttt{j.bloggs@no.where}}
J.~Bloggs,$^{2,3}$
J.~Bloggs,$^{3}$
J.~Bloggs,$^{4}$
J.~Bloggs,$^{5}$
J.~Bloggs,$^{6}$
%...
J.~Bloggs$^{99}$ and
J.~Bloggs$^{100}$}\vspace{0.4cm}\
\parbox{\textwidth}{$^{1}$Department of Something, Somewhere\
$^{2}$Department of Something, Somewhere\
$^{3}$Department of Something, Somewhere\
$^{4}$Department of Something, Somewhere\
$^{5}$Department of Something, Somewhere\
$^{6}$Department of Something, Somewhere\
%...
$^{99}$Department of Something, Somewhere\
$^{100}$Department of Something, Somewhere}}&lt;/pre&gt;
&lt;p&gt;Next: a Python script to generate the above from a simple list of authors and affiliations.&lt;/p&gt;
</description>
      <pubDate>Fri, 07 May 2010 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2010/05/07/mnras-line-wrapping-in-authors-lists/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2010/05/07/mnras-line-wrapping-in-authors-lists/</guid>
    </item>
    
    <item>
      <title>Bayesian number counts</title>
      <description>&lt;p&gt;Here&#39;s a simple bit of statistics for a Friday lunchtime. You count the number of galaxies in a certain area on the sky (with the galaxies satisfying some specific properties, if you like). What is the &lt;em&gt;true&lt;/em&gt; number density? Let the expected number be $$\lambda$$ (the true number density multiplied by the area on the sky) and the measured number be $$k$$. Then, in true &lt;a href=&quot;http://en.wikipedia.org/wiki/Bayes&#39;_theorem&quot;&gt;Bayesian&lt;/a&gt; fashion, what we want is $$!P(\lambda|k) = \frac{P(k|\lambda)P(\lambda)}{P(k)}$$&lt;/p&gt;
&lt;p&gt;Now, for the prior, $$P(\lambda)$$, we assume a prior which is flat on a logarithmic scale. That is, we guess (before making the observation) that the expected number is as likely to lie between 1 and 10 as it is to lie between 1000 and 10,000. (The alternative, a flat prior on a &lt;em&gt;linear&lt;/em&gt; scale, would mean that we guess the true density is just as likely to lie between 10,001 and 10,010 as it is to lie between 1 and 10, which is ridiculous.) So $$P(\lambda) \propto 1/\lambda$$. The likelihood, $$P(k|\lambda)$$ is given by the &lt;a href=&quot;http://en.wikipedia.org/wiki/Poisson_distribution&quot;&gt;Poisson distribution&lt;/a&gt;. So, ignoring the normalizing factor of $$P(k)$$, $$!P(\lambda|k) \propto \frac{\lambda^k}{k!} e^{-\lambda} \frac{1}{\lambda}$$ $$! \propto \lambda^{k-1}e^{-\lambda}$$&lt;/p&gt;
&lt;p&gt;And this is the &lt;a href=&quot;http://en.wikipedia.org/wiki/Gamma_distribution&quot;&gt;Gamma distribution&lt;/a&gt;. Easy peasy.&lt;/p&gt;
</description>
      <pubDate>Fri, 30 Apr 2010 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2010/04/30/bayesian-number-counts/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2010/04/30/bayesian-number-counts/</guid>
    </item>
    
    <item>
      <title>Herschel for everyone</title>
      <description>&lt;p&gt;I&#39;ve just learned that the Herschel Science Archive has been opened up to the world, so any old Tom, Dick or Harry can download the data and start writing their own Nature papers. Well, okay, most of the data is (are) proprietary, but there&#39;s quite a bit of public data on there. Here are some links.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://archives.esac.esa.int/hsa/hsa.html&quot;&gt;Herschel Science Archive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://herschel.esac.esa.int/Data_Processing.shtml&quot;&gt;Herschel Data Processing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;HIPE software: &lt;a href=&quot;http://herschel.esac.esa.int/HIPE_download.shtml&quot;&gt;stable release&lt;/a&gt;, or &lt;a href=&quot;http://herschel.esac.esa.int/hcss/build.php&quot;&gt;development builds&lt;/a&gt; (&lt;a href=&quot;http://herschel.esac.esa.int/hcss/install.php&quot;&gt;installation instructions&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Tue, 09 Mar 2010 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2010/03/09/herschel-for-everyone/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2010/03/09/herschel-for-everyone/</guid>
    </item>
    
    <item>
      <title>Astropython</title>
      <description>&lt;p&gt;You (both of you) might well be interested in the new &lt;a href=&quot;http://www.astropython.org/&quot;&gt;Astropython&lt;/a&gt; site, which looks excellent. Here&#39;s &lt;a href=&quot;http://www.astropython.org/about&quot;&gt;the site&#39;s own description&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Research in astronomy includes the analysis of astronomical images, parsing and manipulation of large catalogs, statistical yet often visual inference, and the creation of data visualizations for publication and dissemination of results.&lt;/p&gt;
&lt;p&gt;The purpose of this web site is to act as a community knowledge base for performing this research with the open source Python language. It provides a forum for general discussion, advice, or relevant news items, collecting lists of useful resources, users&#39; code snippets or scripts, and longer tutorials on specific topics. The topics within these pages are presented in a list view with the ability to sort by date or topic. A traditional &quot;blog&quot; view of the most recently posted topics is visible from the site Home page.&lt;/p&gt;&lt;/blockquote&gt;
</description>
      <pubDate>Tue, 19 Jan 2010 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2010/01/19/astropython/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2010/01/19/astropython/</guid>
    </item>
    
    <item>
      <title>Astroinformatics</title>
      <description>&lt;blockquote&gt;Data volumes from multiple sky surveys have grown from gigabytes into terabytes during the past decade, and will grow from terabytes into tens (or hundreds) of petabytes in the next decade. ... For astronomy to effectively cope with and reap the maximum scientific return from existing and future large sky surveys, facilities, and data-producing projects, we need our own information science specialists. We therefore recommend the formal creation, recognition, and support of a major new discipline, which we call Astroinformatics. ... Now is the time for the recognition of Astroinformatics as an essential methodology of astronomical research. The future of astronomy depends on it.&lt;a href=&quot;http://arxiv.org/abs/0909.3892&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/0909.3892&quot;&gt;Astroinformatics: A 21st Century Approach to Astronomy&lt;/a&gt;&lt;/p&gt;
</description>
      <pubDate>Wed, 23 Sep 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/09/23/astroinformatics/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/09/23/astroinformatics/</guid>
    </item>
    
    <item>
      <title>Pixelating a 2-D Gaussian with Python</title>
      <description>&lt;p&gt;They&#39;re coming thick and fast now.&lt;/p&gt;
&lt;p&gt;Here&#39;s a Python function to accompany the &lt;a href=&quot;http://www.enkaptic.co.uk/2009/09/04/on-the-normalization-of-prfs/&quot;&gt;previous post&lt;/a&gt;. It&#39;s not maximally efficient, but should make sense...&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;
from scipy import stats
def gaussian_pixel(minxy, maxxy, sigma, meanxy=(0.,0.), norm=None):
    &quot;&quot;&quot;Return the value of a pixel sampling a 2D Gaussian,
    normalized such that the area under the Gaussian is 1
    (default) or such that the peak is given by norm.&quot;&quot;&quot;
    x1, y1 = minxy
    x2, y2 = maxxy
    x0, y0 = meanxy
    if norm is None:
        norm = 1. / 2 / math.pi / sigma ** 2
    return norm * 2 * math.pi * sigma ** 2 / (x2 - x1) / (y2 - y1) * (
        (1 - stats.erfc((x2 - x0) / math.sqrt(2) / sigma)) / 2.
        - (1 - stats.erfc((x1 - x0) / math.sqrt(2) / sigma)) / 2.) * (
        (1 - stats.erfc((y2 - y0) / math.sqrt(2) / sigma)) / 2.
        - (1 - stats.erfc((y1 - y0) / math.sqrt(2) / sigma)) / 2.)
&lt;/pre&gt;
</description>
      <pubDate>Fri, 04 Sep 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/09/04/pixelating-a-2-d-gaussian-with-python/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/09/04/pixelating-a-2-d-gaussian-with-python/</guid>
    </item>
    
    <item>
      <title>On the normalization of PRFs</title>
      <description>&lt;p&gt;Yesterday I said that the PRF for a map in Jy/beam (or similar) should be normalized so that that peak is 1. But this is true only for an idealised (not pixelated) PRF, or if the map has infinitesimally small pixels.&lt;/p&gt;
&lt;p&gt;If the pixels are larger than infinitesimal, as is generally the case, then the maximum value of the pixelated PRF will be the average value over the pixel, which will be less than 1.&lt;/p&gt;
&lt;p&gt;For example, if the PRF is a two-dimensional Gaussian, centred on $$(x_0, y_0)$$, with standard deviation $$\sigma$$, then the value in a pixel with $$x_1 &lt; x &lt; x_2$$ and $$y_1 &lt; y &lt; y_2$$ will be $$!A = \frac{1}{(x_2 - x_1)(y_2 - y_1)} \int_{x_1}^{x_2} \int_{y_1}^{y_2} e^{- \left( \frac{(x-x_0)^2 + (y-y_0)^2}{2\sigma^2} \right)} \mathrm{d}x \mathrm{d}y.$$ which is $$!A = \frac{2 \pi \sigma^2}{(x_2 - x_1)(y_2 - y_1)} \left( \frac{1}{2} \mathrm{erf} \left( \frac{x_2 - x_0}{\sqrt{2}\sigma} \right) - \frac{1}{2} \mathrm{erf} \left( \frac{x_1 - x_0}{\sqrt{2}\sigma} \right) \right)$$ $$! \times \left( \frac{1}{2} \mathrm{erf} \left( \frac{y_2 - y_0}{\sqrt{2}\sigma} \right) - \frac{1}{2} \mathrm{erf} \left( \frac{y_1 - y_0}{\sqrt{2}\sigma} \right) \right).$$&lt;/p&gt;
&lt;p&gt;Ugh. Let&#39;s make that simpler. For a PRF centred on $$(0,0)$$, and a pixel $$(\pm r, \pm r)$$, this is $$!A = \frac{\pi \sigma^2}{2 r^2} \left( \mathrm{erf} \left( \frac{r}{\sqrt{2}\sigma} \right) \right)^2.$$&lt;/p&gt;
&lt;p&gt;As an example, the fairly-Gaussian beam for the Herschel Space Observatory SPIRE instrument has an FWHM of around 18&quot;, which corresponds to a standard deviation of around $$18&quot;/2\sqrt{2 \ln 2} = 7.64&quot;$$. If we make a Jy/beam map with pixel size 6&quot;, then the peak value for a 1 Jy point source in the centre of a pixel will be $$!A = \frac{\pi (7.64&quot;)^2}{2 (3&quot;)^2} \left( \mathrm{erf} \left( \frac{3&quot;}{\sqrt{2}(7.64&quot;)} \right) \right)^2 = 0.950 \,\text{Jy/beam}.$$&lt;br /&gt;
No big deal really...&lt;/p&gt;
</description>
      <pubDate>Fri, 04 Sep 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/09/04/on-the-normalization-of-prfs/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/09/04/on-the-normalization-of-prfs/</guid>
    </item>
    
    <item>
      <title>Estimating the flux of a point source</title>
      <description>&lt;p&gt;You have a map and you know what a point source looks like. How do you filter the map so that the value of each pixel is now the most likely flux of a point source centred on that pixel? (An isolated point source, to be more precise.)&lt;/p&gt;
&lt;p&gt;Easy. &lt;/p&gt;
&lt;p&gt;First, find $$P_i$$, which is the &lt;strong&gt;point response function&lt;/strong&gt; (PRF), telling you what a point source of flux 1 will look like in the map. This may be normalized so that the peak is 1 (if your map is in Jy/beam or similar), or so that $$\sum P_i = 1$$ (if your map is in Jy/pixel or similar). If your map is in MJy/sr ... well, figure it out and add a comment below. Basically, if you normalize your PRF correctly, you won&#39;t need to worry about the map units in what follows. Phew.&lt;/p&gt;
&lt;p&gt;Now the measured value of each pixel around the point source, $$d_i$$, will be $$!d_i = f P_i + n_i,$$ where $$f$$ is the flux of the source and $$n_i$$ is the noise, drawn from a normal distribution with mean zero and standard deviation $$\sigma_i$$.&lt;/p&gt;
&lt;p&gt;Now the badness of the fit is measured by the $$\chi^2$$, which is given by $$!\chi^2 = \sum_i \left( \frac{d_i - fP_i}{\sigma_i} \right)^2.$$ At the maximum likelihood value of the flux, $$f$$, $$\chi^2$$ will be at a minimum, so $$!\frac{\mathrm{d}\chi^2}{\mathrm{d}f} = 0.$$ Hence $$!\sum_i (-2d_i + 2 f P_i^2) / \sigma_i^2 = 0.$$ Solving this for $$f$$, we find the maximum likelihood solution $$!f = \frac{\sum_i d_i P_i / \sigma_i^2}{\sum_i P_i^2 / \sigma_i^2}.$$&lt;/p&gt;
&lt;p&gt;Now just do this for each pixel in the map (corresponding to a point source centred on each pixel) and you&#39;re done.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Worked example&lt;/strong&gt;. $$P_i$$ is 0.5, 1.0 and 0.5, for three adjacent pixels (you&#39;ll have realised that the map is in Jy/beam or similar), and $$d_i$$ is 1, 2 and 1 Jy/beam, for three adjacent pixels, with the same (tiny!) value of $$\sigma_i$$ for each pixel (in this case, we can ignore the value of $$\sigma_i$$ in what follows). So the flux at the central pixel is estimated to be $$!f = (0.5 \times 1 + 1.0 \times 2 + 0.5 \times 1) / (0.5^2 + 1.0^2 + 0.5^2) = 2 \,\mathrm{Jy},$$ which is no surprise, since the maximum value of the map in Jy/beam is 2 at that position.&lt;/p&gt;
&lt;p&gt;This is an example of a &lt;a href=&quot;http://en.wikipedia.org/wiki/Matched_filter&quot;&gt;matched filter&lt;/a&gt; (I haven&#39;t read the page, but hopefully including the link will make me look clever). And, given that point sources are under no particular obligation to align themselves with the centres of the pixels of your map, $$P_i$$ can easily be re-estimated for a source with a certain offset from the pixel centre.&lt;/p&gt;
</description>
      <pubDate>Thu, 03 Sep 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/09/03/estimating-the-flux-of-a-point-source/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/09/03/estimating-the-flux-of-a-point-source/</guid>
    </item>
    
    <item>
      <title>Visualizing noisy images</title>
      <description>&lt;p&gt;You have an image. Each pixel has a value with some uncertainty. How do you visualize the uncertainty in each pixel? Like this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.enkaptic.co.uk/assets/flicker_image.gif&quot;&gt;&lt;img class=&quot;alignnone size-full wp-image-197&quot; title=&quot;flicker_image&quot; src=&quot;http://www.enkaptic.co.uk/assets/flicker_image.gif&quot; alt=&quot;flicker_image&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here&#39;s the Python code&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;
import numpy as np
from matplotlib import pyplot as plt

class FlickerImage(object):
    def __init__(self, im, err):
        self.im = im.copy()
        self.err = err.copy()
        finite = np.isfinite(self.im + self.err)
        self.vmin = (self.im - 2 * self.err)[finite].min()
        self.vmax = (self.im + 2 * self.err)[finite].max()
        self.im[np.invert(finite)] = self.vmax
        self.err[np.invert(finite)] = 0
    def flicker(self):
        fg = plt.imshow(np.zeros(self.im.shape),
                        interpolation=&#39;nearest&#39;,
                        vmin=self.vmin,
                        vmax=self.vmax)
        while True:
            ran = np.random.normal(size=im.shape)
            fg.set_data(im + err * ran)
            plt.draw()
&lt;/pre&gt;
&lt;p&gt;And here&#39;s an example script:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;import pyfits
f = pyfits.open(&#39;file.fits&#39;)
im = f[&quot;IMAGE&quot;].data
err = f[&quot;ERROR&quot;].data
flicker_image = FlickerImage(im, err)
flicker_image.flicker()&lt;/pre&gt;
</description>
      <pubDate>Wed, 13 May 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/05/13/visualizing-noisy-images/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/05/13/visualizing-noisy-images/</guid>
    </item>
    
    <item>
      <title>Python, FITS and DS9</title>
      <description>&lt;p&gt;Here&#39;s an easy way to display &lt;a href=&quot;http://heasarc.gsfc.nasa.gov/docs/heasarc/fits.html&quot;&gt;FITS&lt;/a&gt; images (or any array) in &lt;a href=&quot;http://hea-www.harvard.edu/RD/ds9/&quot;&gt;DS9&lt;/a&gt; using &lt;a href=&quot;http://python.org/&quot;&gt;Python&lt;/a&gt; (with &lt;a href=&quot;http://www.stsci.edu/resources/software_hardware/pyfits&quot;&gt;PyFITS&lt;/a&gt;, &lt;a href=&quot;http://numpy.scipy.org/&quot;&gt;NumPy&lt;/a&gt; and &lt;a href=&quot;http://stsdas.stsci.edu/numdisplay/&quot;&gt;Numdisplay&lt;/a&gt;, which is part of &lt;a href=&quot;http://www.stsci.edu/resources/software_hardware/pyraf/stsci_python/&quot;&gt;stsci_python&lt;/a&gt;). First launch DS9, then in Python:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;import numdisplay
import pyfits
arr = pyfits.getdata(&#39;file.fits&#39;)
numdisplay.display(arr)&lt;/pre&gt;
&lt;p&gt;Easy!&lt;/p&gt;
&lt;p&gt;Alternatively, the &lt;a href=&quot;http://www.astro.rug.nl/software/kapteyn/&quot;&gt;Kapteyn package&lt;/a&gt; seems excellent, and uses Python&#39;s &lt;a href=&quot;http://matplotlib.sourceforge.net/&quot;&gt;matplotlib&lt;/a&gt; for displaying images. &lt;del&gt;It requires &lt;a href=&quot;http://www.atnf.csiro.au/people/mcalabre/WCS/&quot;&gt;WCSLIB&lt;/a&gt; to run, though, so the installation process is a bit longer&lt;/del&gt; [update: apparently that bit is no longer true - 17 Oct 2011].&lt;/p&gt;
&lt;p&gt;A third option is to use &lt;a href=&quot;http://code.google.com/p/python-sao/&quot;&gt;python-sao&lt;/a&gt;:&lt;/p&gt;
&lt;pre lang=&quot;python&quot;&gt;import pysao
import pyfits
ds9 = pysao.ds9()
f = pyfits.open(&#39;file.fits&#39;)
ds9.view(f[0])&lt;/pre&gt;
&lt;p&gt;Easy again! And the WCS information is preserved, which doesn&#39;t seem to be the case with Numdisplay.&lt;/p&gt;
</description>
      <pubDate>Wed, 01 Apr 2009 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2009/04/01/python-fits-and-ds9/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/04/01/python-fits-and-ds9/</guid>
    </item>
    
    <item>
      <title>PSFs in IDL</title>
      <description>&lt;p&gt;Two methods of approximating a &lt;a href=&quot;http://en.wikipedia.org/wiki/Point_spread_function&quot;&gt;point-spread function&lt;/a&gt; in IDL:&lt;/p&gt;
&lt;p&gt;1. &lt;a href=&quot;http://www.bo.astro.it/~giangi/StarFinder/&quot;&gt;StarFinder&lt;/a&gt; seems to do a great job at finding point sources in crowded fields. It includes a routine for generating the &lt;a href=&quot;http://en.wikipedia.org/wiki/Airy_pattern&quot;&gt;Airy pattern&lt;/a&gt;. For a 51 x 51 array, with the peak at [25, 25], and an FWHM of 8.0 pixels, this is the command:&lt;/p&gt;
&lt;pre lang=&quot;text&quot;&gt;psf = airy_pattern(51, 51, 25, 25, 2./8.0)
isurface, psf&lt;/pre&gt;
&lt;p&gt;The output looks something like this:&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-179&quot; title=&quot;PSF Airy pattern (StarFinder/IDL)&quot; src=&quot;http://www.enkaptic.co.uk/assets/psf_airy.png&quot; alt=&quot;PSF Airy pattern (StarFinder/IDL)&quot; width=&quot;480&quot; height=&quot;321&quot; /&gt;&lt;/p&gt;
&lt;p&gt;2. The &lt;a href=&quot;http://idlastro.gsfc.nasa.gov/&quot;&gt;IDL Astronomy User&#39;s Library&lt;/a&gt; contains a routine, psf_gaussian, that produces a Gaussian PSF. To produce the same as above, the command would be:&lt;/p&gt;
&lt;pre lang=&quot;text&quot;&gt;psf = psf_gaussian(npix=51, fwhm=8.0, /double)
isurface, psf&lt;/pre&gt;
&lt;p&gt;... which produces something like this:&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-full wp-image-180&quot; title=&quot;PSF Gaussian (IDL Astronomy User&#39;s Library)&quot; src=&quot;http://www.enkaptic.co.uk/assets/psf_gaussian.png&quot; alt=&quot;PSF Gaussian (IDL Astronomy User&#39;s Library)&quot; width=&quot;479&quot; height=&quot;324&quot; /&gt;&lt;/p&gt;
</description>
      <pubDate>Wed, 18 Mar 2009 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2009/03/18/psfs-in-idl/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/03/18/psfs-in-idl/</guid>
    </item>
    
    <item>
      <title>The eclipse of IDL 7</title>
      <description>&lt;p&gt;I&#39;ve finally made the transition from &lt;a href=&quot;http://www.ittvis.com/idl/&quot;&gt;IDL&lt;/a&gt; 6.4 to IDL 7. Here are my handy hints...&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IDL Workbench rocks! (This is because it is basically &lt;a href=&quot;http://www.eclipse.org/&quot;&gt;Eclipse&lt;/a&gt;, which is a proper development environment, unlike that hideous old IDLDE.)&lt;/li&gt;
&lt;li&gt;Another reason for using IDL Workbench (for me at least, and for now) is that IDL help doesn&#39;t seem to work if Java 6 is the default (as it is on my Mac), but the help &lt;em&gt;does&lt;/em&gt; work if launched through the IDL Workbench.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To transition to IDL Workbench:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Import your code as described on &lt;a href=&quot;http://www.dfanning.com/workbench/setup_projects.html&quot;&gt;David Fanning&#39;s page&lt;/a&gt; - fret not, it&#39;s easy and harmless&lt;/li&gt;
&lt;li&gt;Preferences -&amp;gt; IDL -&amp;gt; Startup file, if you have one, and&lt;/li&gt;
&lt;li&gt;Preferences -&amp;gt; IDL -&amp;gt; Paths -&amp;gt; Insert... for me it was just my idl folder, including all sub-folders, to mimic my $IDL_PATH environment variable.&lt;/li&gt;
&lt;/ol&gt;
</description>
      <pubDate>Tue, 03 Mar 2009 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2009/03/03/the-eclipse-of-idl-7/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2009/03/03/the-eclipse-of-idl-7/</guid>
    </item>
    
    <item>
      <title>The science of galaxy formation...</title>
      <description>&lt;p&gt;...is the title of a &lt;a href=&quot;http://arxiv.org/abs/0808.3188v1&quot;&gt;provocative article&lt;/a&gt; by &lt;a href=&quot;http://www.ast.cam.ac.uk/~gil/&quot;&gt;Gerry Gilmore&lt;/a&gt;(*) on today&#39;s &lt;a href=&quot;http://arxiv.org/archive/astro-ph&quot;&gt;astro-ph&lt;/a&gt;. There&#39;s a bit about the scientific method, such as:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The appropriate scientific methodology with which to address such questions is itself problematic: how does one apply what many consider the “traditional scientific method”, involving objective analysis of independent repeated experiments as a test of theory, when the Universe does not allow us to experiment, in the traditional laboratory physics sense; when we have no useful predictive theory for much of astrophysics; and when the nature of the Universe may restrict our observation to only a very small part of an unobservable larger whole? More specifically, is the observational test of prediction how science actually operates? Is that how astrophysics operates?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good stuff. But the most cutting remarks come in his assessment of the current approach to modelling galaxy formation:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Such a long list of observations all inconsistent with apparently fundamental features of galaxy formation models suggests two approaches. In one approach, new complex physics (“feedback”) must be added, to “improve” agreement with observation. The appearances are to be saved. In another, common assumptions in the galaxy simulations could be examined further.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;With the reference to the saving of appearances, the allusion is to Ptolemy&#39;s epicycles: making a misguided model seem more plausible by making it more contrived.&lt;/p&gt;
&lt;p&gt;The specific problem Gilmore sees with cosmological simulations is the suppression of the &quot;ultraviolet divergence&quot;, i.e., small-scale perturbations, by &quot;numerical smoothing (‘finite resolution&#39;)&quot;: &quot;It is unlikely that Nature does it that way.&quot; He suggests that many of the inconsistencies between galaxy formation models and observations could be a result of this poor handling of the small-scale power spectrum.&lt;/p&gt;
&lt;p&gt;(*) Disclaimer: I will not be held responsible for any damage sustained to your eyes as a result of following links on this page.&lt;/p&gt;
</description>
      <pubDate>Tue, 26 Aug 2008 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2008/08/26/the-science-of-galaxy-formation/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/08/26/the-science-of-galaxy-formation/</guid>
    </item>
    
    <item>
      <title>Papers: your personal library of science</title>
      <description>&lt;p&gt;Looking for a piece of software for your Mac that will allow you to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;keep track of PDFs of academic papers,&lt;/li&gt;
&lt;li&gt;search for papers using Google Scholar, ADS, arXiv, ...,&lt;/li&gt;
&lt;li&gt;search your personal library in an instant,&lt;/li&gt;
&lt;li&gt;read papers full-screen,&lt;/li&gt;
&lt;li&gt;add notes to papers,&lt;/li&gt;
&lt;li&gt;organise the papers using collections and smart collections,&lt;/li&gt;
&lt;li&gt;interact with BibTeX databases and citation keys,&lt;/li&gt;
&lt;li&gt;and do all the above in something that looks and feels like iTunes?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here it is: &lt;a href=&quot;http://mekentosj.com/papers/&quot;&gt;Papers by mekentosj.com&lt;/a&gt;.&lt;/p&gt;
</description>
      <pubDate>Tue, 22 Jul 2008 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2008/07/22/papers-your-personal-library-of-science/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/07/22/papers-your-personal-library-of-science/</guid>
    </item>
    
    <item>
      <title>UKIDSS paper submitted</title>
      <description>&lt;p&gt;Well, the deed has been done, and the paper has finally been submitted to &lt;a href=&quot;http://www.blackwellpublishing.com/journals/mnr/&quot;&gt;MNRAS&lt;/a&gt; and to &lt;a href=&quot;http://arxiv.org/archive/astro-ph&quot;&gt;astro-ph&lt;/a&gt;. You can read it if you really want to: &lt;a href=&quot;http://arxiv.org/abs/0806.0343&quot;&gt;Luminosity and surface brightness distribution of K-band galaxies from the UKIDSS Large Area Survey&lt;/a&gt;. Here&#39;s a picture from the paper:&lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;UKIDSS K-band Luminosity Function&quot; href=&quot;http://www.enkaptic.co.uk/assets/lf.png&quot;&gt;&lt;img title=&quot;UKIDSS K-band Luminosity Function&quot; src=&quot;http://www.enkaptic.co.uk/assets/lf.png&quot; alt=&quot;UKIDSS K-band Luminosity Function&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is the K-band luminosity function: the number of galaxies per volume as a function of their luminosity, with low luminosity at the left and high luminosity at the right. It&#39;s far from perfect, but hopefully a step in the right direction. There&#39;s quite a bit of incompleteness (missing galaxies) and uncertainty (due to small numbers of galaxies and large-scale structure) at the faint end (left-hand side of the plot). But perhaps more interesting is the disagreement at the bright end (right-hand side). All of the previous results shown on the plot used 2MASS imaging, so this might explain the different results we have found. Specifically, it could be that (1) we use Petrosian magnitudes rather than Kron or total magnitudes, (2) UKIDSS photometry is better than 2MASS photometry, (3) the evolution corrections are different, (4) something else or (5) any combination of the above.&lt;/p&gt;
</description>
      <pubDate>Tue, 03 Jun 2008 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2008/06/03/ukidss-paper-submitted/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/06/03/ukidss-paper-submitted/</guid>
    </item>
    
    <item>
      <title>Galaxy Zoo: the independence of morphology and colour</title>
      <description>&lt;p&gt;Galaxies come in two types: red, elliptical galaxies that reside in high-density regions, and blue, spiral galaxies that reside in low-density regions.  Right?&lt;/p&gt;
&lt;p&gt;Actually, no.&lt;/p&gt;
&lt;p&gt;At least, not according to this &lt;a href=&quot;http://www.galaxyzoo.org/&quot;&gt;Galaxy Zoo&lt;/a&gt; paper, on &lt;a href=&quot;http://adsabs.harvard.edu/abs/2008arXiv0805.2612B&quot;&gt;the independence of morphology and colour&lt;/a&gt; (or &lt;a href=&quot;http://arxiv.org/abs/0805.2612&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;First of all, there&#39;s a sizeable population of galaxies that blatantly refuse to allow their colour to determine what shape they should be. There are red galaxies with beautiful spiral morphology and blue galaxies with plain old elliptical morphology.&lt;/p&gt;
&lt;p&gt;Okay, but we know that red galaxies like to hang out in crowded places, and that elliptical galaxies are similarly gregarious, so clearly there&#39;s some connection between being red and being well-rounded?&lt;/p&gt;
&lt;p&gt;Nope, wrong again!&lt;/p&gt;
&lt;p&gt;The main reason that we see more red galaxies in dense environments is that the fraction of spiral galaxies that are red changes, and the fraction of elliptical galaxies that are blue changes. So in sparsely populated bits of the universe, most of the spiral galaxies are blue, but in densely populated regions, most of the spiral galaxies are red. It&#39;s similar for elliptical galaxies. In low-density regions, a large fraction (not quite half) of the elliptical galaxies are blue, whereas in dense environments the vast majority of elliptical galaxies are red.&lt;/p&gt;
&lt;p&gt;So the morphology-density relation has really very little (directly) to do with the colour-density relation.&lt;/p&gt;
&lt;p&gt;Moral: &quot;elliptical/spiral&quot; doesn&#39;t mean &quot;red/blue&quot;!&lt;/p&gt;
</description>
      <pubDate>Tue, 03 Jun 2008 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2008/06/03/galaxy-zoo-the-independence-of-morphology-and-colour/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/06/03/galaxy-zoo-the-independence-of-morphology-and-colour/</guid>
    </item>
    
    <item>
      <title>Evolution of Schechter function ... so?</title>
      <description>&lt;p&gt;&lt;a title=&quot;Schechter function&quot; href=&quot;http://www.enkaptic.co.uk/assets/schechter.png&quot;&gt;&lt;img title=&quot;Schechter function&quot; src=&quot;http://www.enkaptic.co.uk/assets/schechter.png&quot; alt=&quot;Schechter function&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is some work in progress: K-band luminosity function from the &lt;a href=&quot;http://www.ukidss.org/&quot;&gt;UKIDSS&lt;/a&gt; Large Area Survey (LAS, black dots), showing the number of galaxies per unit volume depending on the luminosity of the galaxies, from faint (left) to bright (right). I.e., there are lots more small galaxies than big galaxies.&lt;/p&gt;
&lt;p&gt;I&#39;ve fit several Schechter functions to the data. This is a convenient way of describing the luminosity function in terms of three numbers: the slope of the faint end (alpha), the luminosity brighter than which the number of galaxies drops off rapidly (M-star) and the number of galaxies per unit volume at M-star (phi-star).  To fit the Schechter functions I&#39;ve used only a portion of the data, as shown in the figure. For example, for the green curve, I&#39;ve used only the black points brighter than (to the right of) absolute magnitude -21.&lt;/p&gt;
&lt;p&gt;Now here&#39;s the point. At high redshift, it is possible to see only the brightest galaxies. So we would be able to plot only the black points towards the right-hand side of the figure. But what effect would this have on the Schechter function? Even if we assume the luminosity function does not vary with redshift, our Schechter function fits &lt;em&gt;would!&lt;/em&gt; In fact, if we relied on the Schechter function fit to tell us how the galaxy population varied with redshift (a silly thing to do, but people do it all the time), we would infer that the high-redshift galaxy population was (1) brighter (2) more dominated by small galaxies and (3) less abundant than the low-redshift galaxy population.&lt;/p&gt;
&lt;p&gt;(Now (1) and (3) are probably true, but we don&#39;t need the Schechter function to tell us. Not so sure about (2).)&lt;/p&gt;
&lt;p&gt;Moral: don&#39;t rely on the Schechter function!&lt;/p&gt;
</description>
      <pubDate>Fri, 04 Apr 2008 00:00:00 +0100</pubDate>
      <link>http://www.enkaptic.co.uk/2008/04/04/evolution-of-schechter-function-so/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/04/04/evolution-of-schechter-function-so/</guid>
    </item>
    
    <item>
      <title>A galaxy being emitted by a star</title>
      <description>&lt;p&gt;&lt;a title=&quot;SDSS image&quot; href=&quot;http://sdss.lib.uchicago.edu/dr5/en/tools/chart/navi.asp?ra=154.605716855225&amp;amp;dec=1.18213792027353&amp;amp;scale=0.2&quot;&gt;&lt;img src=&quot;http://www.enkaptic.co.uk/assets/staremittinggalaxy.png&quot; alt=&quot;Star emitting galaxy&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Why is the universe so crowded? This kind of thing is really messing up my data!&lt;/p&gt;
&lt;p&gt;Makes me want to work with simulations...&lt;/p&gt;
</description>
      <pubDate>Thu, 28 Feb 2008 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2008/02/28/a-galaxy-being-emitted-by-a-star/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/02/28/a-galaxy-being-emitted-by-a-star/</guid>
    </item>
    
    <item>
      <title>pIDLy: IDL within Python</title>
      <description>&lt;p&gt;Now Python and IDL can talk to each other (okay, Python talks to IDL and IDL does what it&#39;s told), using &lt;a title=&quot;pIDLy&quot; href=&quot;http://astronomy.sussex.ac.uk/~anthonys/pidly/&quot;&gt;pIDLy&lt;/a&gt; (pronounce as you please). I experimented with a few other solutions available online but couldn&#39;t get them to work. So I cobbled this one together with surprisingly little trouble, thanks largely to &lt;a href=&quot;http://pexpect.sourceforge.net/&quot;&gt;pexpect&lt;/a&gt;.&lt;/p&gt;
</description>
      <pubDate>Thu, 31 Jan 2008 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2008/01/31/pidly-idl-within-python/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/01/31/pidly-idl-within-python/</guid>
    </item>
    
    <item>
      <title>IDL code miscellany</title>
      <description>&lt;p&gt;&lt;a title=&quot;IDLdoc downloads page&quot; href=&quot;http://idldoc.idldev.com/wiki/Downloads&quot;&gt;IDLdoc 3.0&lt;/a&gt; (more info &lt;a title=&quot;Getting Started with IDLdoc&quot; href=&quot;http://idldoc.idldev.com/wiki/GettingStarted&quot;&gt;here&lt;/a&gt;) gives my badly-written bits of &lt;a title=&quot;IDL homepage&quot; href=&quot;http://www.ittvis.com/idl/&quot;&gt;IDL&lt;/a&gt; the deceptive appearance of being well designed, useful and user-friendly. So I&#39;ve made a few available &lt;a title=&quot;Anthony Smith&#39;s IDL routines&quot; href=&quot;http://astronomy.sussex.ac.uk/~anthonys/idldoc/&quot;&gt;here&lt;/a&gt; for your enjoyment.&lt;/p&gt;
</description>
      <pubDate>Mon, 28 Jan 2008 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2008/01/28/idl-code-miscellany/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2008/01/28/idl-code-miscellany/</guid>
    </item>
    
    <item>
      <title>UKIDSS at ESO</title>
      <description>&lt;p&gt;&lt;a title=&quot;ESO: European Southern Observatory&quot; href=&quot;http://www.eso.org/&quot;&gt;&lt;img title=&quot;ESO&quot; src=&quot;http://www.enkaptic.co.uk/assets/esologo.jpg&quot; alt=&quot;ESO&quot; align=&quot;right&quot; /&gt;&lt;/a&gt;Just back from my first visit to Garching (near Munich). &lt;a href=&quot;http://www.eso.org/&quot;&gt;ESO&lt;/a&gt;, to be more specific. The reason for the visit: a three-day workshop on &lt;a href=&quot;http://www.ukidss.org/esoworkshop/&quot;&gt;Science from UKIDSS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here&#39;s the gist of it. Lots of good results already, lots of work in progress, and a sense that &lt;a href=&quot;http://www.ukidss.org/&quot;&gt;UKIDSS&lt;/a&gt; has come of age: the needle-in-a-haystack hunters now have enough hay (they hope!) to find some record-breaking needles (the smallest, nearest or furthest known luminiferous objects in the Universe) and the (Galactic or extra-Galactic) Gallup pollers have now canvassed enough  individuals (stars or galaxies) to be reasonably confident about the views of the whole population.&lt;/p&gt;
&lt;p&gt;I&#39;m one of the extra-Galactic Gallup pollers. Some slides from the talk I gave on the final morning are on my (small but growing!) &lt;a href=&quot;http://astronomy.sussex.ac.uk/~anthonys/publications/&quot;&gt;publications page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Next tasks:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Investigate the problem with deblending of large galaxies&lt;/li&gt;
&lt;li&gt;Write paper&lt;/li&gt;
&lt;li&gt;Write thesis&lt;/li&gt;
&lt;li&gt;Get job&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Thu, 20 Dec 2007 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2007/12/20/ukidss-at-eso/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2007/12/20/ukidss-at-eso/</guid>
    </item>
    
    <item>
      <title>Filtering astro-ph with CosmoCoffee</title>
      <description>&lt;p&gt;One of the things mentioned in &lt;a href=&quot;http://www.sarahbridle.net/&quot;&gt;Sarah Bridle&lt;/a&gt;&#39;s talk at &lt;a href=&quot;http://www.roe.ac.uk/ifa/YAM/&quot;&gt;YAM&lt;/a&gt; last week was a filter for &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv.org&lt;/a&gt; provided by &lt;a href=&quot;http://cosmocoffee.info/&quot;&gt;CosmoCoffee&lt;/a&gt;. I decided to sample it this week.&lt;/p&gt;
&lt;p&gt;&lt;a title=&quot;CosmoCoffee&quot; href=&quot;http://cosmocoffee.info/&quot;&gt;&lt;img title=&quot;CosmoCoffee&quot; src=&quot;http://www.enkaptic.co.uk/assets/logo_phpbb.gif&quot; alt=&quot;CosmoCoffee&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After creating an account on CosmoCoffee, you will need to edit the keywords in your profile to reflect your interests (well, I did!). Then click on &lt;a href=&quot;http://cosmocoffee.info/arxiv_new.php&quot;&gt;Arxiv new filter&lt;/a&gt; and you&#39;re off!&lt;/p&gt;
&lt;p&gt;Here are my settings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Arxives in order of interest: astro-ph&lt;/li&gt;
&lt;li&gt;Arxiv New search key strings: galaxy (redshift )?survey, luminosity (function|density), surface brightness, UKIDSS, UKIRT, VISTA, SDSS, Sloan, WFCAM, near infrared, stellar mass, star formation (rate|history), galax, Bayes, redshift, astro-ph, ADS, extragalactic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And here are the results:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monday: 54 new on astro-ph, of which 21 made it through the filter. These were not only filtered but also sorted by CosmoCoffee so the most relevant were listed first. Very useful.&lt;/li&gt;
&lt;li&gt;Tuesday: 76 on astro-ph; 27 on CosmoCoffee. It missed &lt;a href=&quot;http://arxiv.org/abs/0712.1513&quot;&gt;&lt;em&gt;The Future of Cosmology&lt;/em&gt; by George Efstathiou&lt;/a&gt;, which was a fun read. But I can&#39;t think of any way to adjust the CosmoCoffee filter to catch papers like this, without catching loads of other cosmology papers. But in the full astro-ph listings I skimmed over the &lt;a href=&quot;http://uk.arxiv.org/abs/0712.1382&quot;&gt;paper on globular clusters and their host galaxies&lt;/a&gt;, which was ranked highly by CosmoCoffee.&lt;/li&gt;
&lt;li&gt;Wednesday: 42 on astro-ph; 14 on CosmoCoffee, filtered and sorted just right.&lt;/li&gt;
&lt;li&gt;Thursday: 52 on astro-ph; 22 on CosmoCoffee. Hmm, wish I knew more about dwarf galaxies.&lt;/li&gt;
&lt;li&gt;Friday: 30 on astro-ph; 7 on CosmoCoffee (must be getting near Christmas). Glad I skimmed through astro-ph, as my filter settings excluded &lt;a href=&quot;http://uk.arxiv.org/abs/0712.2196&quot;&gt;this fascinating article on the history of dark energy&lt;/a&gt;. Apparently Newton thought of it (or something like it) 320 years ago!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Conclusion: based on this week&#39;s experience, I&#39;m likely to miss interesting and relevant papers if I use either astro-ph or CosmoCoffee ... so I&#39;ll use both! Start each day &lt;em&gt;adagio&lt;/em&gt; on CosmoCoffee, &lt;em&gt;accelerando poco a poco&lt;/em&gt;, then &lt;em&gt;prestissimo&lt;/em&gt; through astro-ph.&lt;/p&gt;
</description>
      <pubDate>Fri, 14 Dec 2007 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2007/12/14/filtering-astro-ph-with-cosmocoffee/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2007/12/14/filtering-astro-ph-with-cosmocoffee/</guid>
    </item>
    
    <item>
      <title>UKIDSS poster</title>
      <description>&lt;p&gt;Last Friday was the &lt;a title=&quot;RAS YAM&quot; href=&quot;http://www.roe.ac.uk/ifa/YAM/&quot;&gt;RAS Young Astronomers Meeting&lt;/a&gt; up in Edinburgh. I presented a poster, &lt;em&gt;A census of K-band galaxies from the UKIDSS Large Area Survey,&lt;/em&gt; which I&#39;ve just put online on my (very short!) &lt;a href=&quot;http://astronomy.sussex.ac.uk/~anthonys/publications/&quot;&gt;publications page&lt;/a&gt;.&lt;em&gt; &lt;/em&gt;&lt;/p&gt;
</description>
      <pubDate>Mon, 10 Dec 2007 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2007/12/10/ukidss-poster/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2007/12/10/ukidss-poster/</guid>
    </item>
    
    <item>
      <title>Nothing worth reading</title>
      <description>&lt;p&gt;This is the first entry in the new Research Blog, reserved for posts of a tedious, technical or boring nature related to my research in astronomy. See &lt;a href=&quot;http://www.anthonysmith.me.uk&quot;&gt;www.anthonysmith.me.uk&lt;/a&gt; for (slightly) more exciting posts. None of the information in this post is of any interest.&lt;/p&gt;
</description>
      <pubDate>Sun, 09 Dec 2007 00:00:00 +0000</pubDate>
      <link>http://www.enkaptic.co.uk/2007/12/09/nothing-worth-reading/</link>
      <guid isPermaLink="true">http://www.enkaptic.co.uk/2007/12/09/nothing-worth-reading/</guid>
    </item>
    
  </channel>
</rss>